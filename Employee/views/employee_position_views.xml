<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="search_view_position" model="ir.ui.view">
            <field name="name">search.view.position</field>
            <field name="model">employee.position</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <group expand="0" string="Nhóm">
                        <filter name="group_department" string="Bộ phận" domain="[]" context="{'group_by': 'department_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="action_position_form" model="ir.ui.view">
            <field name="name">employee.position.form</field>
            <field name="model">employee.position</field>
            <field name="arch" type="xml">
                 <form string="Vị trí công việc" edit="1" create="0" class="o_custom_small_form_sheet" js_class="timeoff3c_form">
                     <sheet style="max-width: 40%; margin-left: auto; margin-right: auto;" invisible="id">
                         <h3>TẠO VỊ TRÍ CÔNG VIỆC MỚI</h3>
                         <hr/>
                         <group style="display: block">
                             <field name="name" placeholder="Ví dụ: Trưởng phòng R&amp;D...." style="border: 1px solid #ced4da; font-size: 20px; margin-top: 5px; margin-bottom: 15px;"/>
                             <field name="position_code" placeholder='Mã ' style="border: 1px solid #ced4da; margin-top: 5px; margin-bottom: 10px;"/>
                         </group>
                         <group>
                             <group style="display: block">
                                 <field name="department_id" style="border: 1px solid #ced4da; margin-bottom: 6px;" placeholder="-- Chọn bộ phận --"/>
                             </group>
                         </group>
                         <group style="display: block">
                             <field name="description" placeholder="Mô tả" style="border: 1px solid #ced4da; margin-top: 5px; margin-bottom: 15px;"/>
                         </group>
                         <div style="text-align: right; padding-top: 20px;">
                            <button  special="save" class="btn btn-primary " confirm="Bạn muốn tạo vị trí mới?" ><i class="fa fa-check" /> Lưu</button>
                            <span style="color: white; padding-left:15px;"></span>
                            <button special="cancel" class="btn btn-secondary ms-2" ><i class="fa fa-undo" /> Xóa</button>
                         </div>
                     </sheet>
                     <sheet style="max-width: 40%; margin-left: auto; margin-right: auto;" invisible="not id">
                         <h1>
                             <i class="fa fa-briefcase fa-lg"/>
                             <field name="name"  style="padding-left: 10px;"/>
                         </h1>
                         <hr/>
                         <group>
                             <group>
                                 <i class="fa fa-flag-o" aria-hidden="true" style="color: gray;"/> <span style="font-size:11px; color: gray;">BỘ PHẬN</span>
                                 <field name="department_id"  string=""/>
                             </group>
                         </group>
                         <hr style="height:2px;"/>
                         <h3>
                             Nhân sự hiện tại (<field name="total_employee"/>)
                         </h3>
                         <field name="employee_ids"  options='{"no_create": True}'>
                             <kanban class="o_custom_employee3c_small_kanban">
                                 <templates>
                                     <t t-name="kanban-box" >
                                         <div style="text-align: center;" >
                                             <div style="display: flex; justify-content: center; align-items: center;">
                                                 <field name="image_1920" style="width: 150px; height:150px;" widget="image" />
                                             </div>
                                             <div  >
                                                 <strong >
                                                     <field name="name" placeholder="Employee's Name"/>
                                                 </strong>
                                                 <br/>
                                                 <span >
                                                     <field name="job_title"/>
                                                 </span>
                                             </div>
                                         </div>
                                     </t>
                                 </templates>
                             </kanban>
                         </field>
                     </sheet>
                 </form>
            </field>
        </record>

        <record id="action_position_tree" model="ir.ui.view">
            <field name="name">employee.position.tree</field>
            <field name="model">employee.position</field>
            <field name="arch" type="xml">
                <tree string="Vị trí công việc" class="o_employee3c_position_list" expand="1" >
                    <field name="name" string="Vị trí"/>
                    
                    <field name="total_employee" string=""/>
                    <field name="employee_ids" string="Nhân sự" widget="many2many_avatar_user"/>
                </tree>
            </field>
        </record>

        <record id="action_position" model="ir.actions.act_window">
            <field name="name">Vị trí công việc</field>
            <field name="res_model">employee.position</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_group_department': 1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Chưa có vị trí công việc nào!
                </p>
            </field>
        </record>

    </data>
</odoo>
