<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <t t-name="Employee.Resume3CListRenderer" t-inherit-mode="primary" t-inherit="web.ListRenderer">
        <xpath expr="//table" position="attributes">
            <attribute name="t-attf-class" add="table-borderless {{ !showTable ? 'd-none' : ''}}" remove="table-striped" separator=" "/>
        </xpath>
        <xpath expr="//table" position="after">
             <t t-if="!showTable">
                 
             </t>
        </xpath>
        <xpath expr="//thead/tr" position="replace">
            <tr>
                <th style="width: 32px; min-width: 32px;"></th>
                <th class="w-100"></th>
                <th t-if="isEditable" class="o_list_actions_header" style="width: 32px; min-width: 32px"></th>
            </tr>
        </xpath>
    </t>

    <t t-name="Employee.Resume3CListRenderer.Rows" >
        <t t-foreach="Object.entries(groupedList)" t-as="skill_group" t-key="skill_group[0]">
            <tr class="o_group_has_content o_group_header o_resume_group_header">
                <th tabindex="-1" class="o_group_name" t-att-colspan="colspan">
                    <div class="d-flex justify-content-between align-items-center">
                        <span t-esc="skill_group[1].name"/>
                        
                    </div>
                </th>
                <th></th>
            </tr>
            <t t-foreach="skill_group[1].list.records" t-as="record" t-key="record.id">
                <t t-set="group" t-value="skill_group[1]"/>
                <t t-call="{{ constructor.recordRowTemplate }}"/>
            </t>
        </t>
    </t>

    <t t-name="Employee.Resume3CListRenderer.RecordRow" t-inherit-mode="primary" t-inherit="web.ListRenderer.RecordRow">
        <xpath expr="//t[@t-foreach='getColumns(record)']" position="replace">
            <t t-set="data" t-value="record.data"/>
            <td class="o_resume_timeline_cell position-relative pe-lg-2">
                <div class="rounded-circle bg-info position-relative"/>
            </td>
            <td class="o_data_cell pt-0" >
                <div class="o_resume_line" t-att-data-id="id">
                     <div class="d-flex justify-content-between align-items-center">
                         <small class="o_resume_line_dates fw-bold">
                            <t t-if="data.date_start"  t-esc="formatDate(data.date_start)"/><t t-else="">___</t> -
                            <t t-if="data.date_end and +data.date_end != +data.date_start" t-esc="formatDate(data.date_end)"/>
                            <t t-else="">___</t>
                         </small>
                         <button class="btn btn_custom" title="Chỉnh sửa"
                                t-on-click="(ev) => this.onCellClicked(record,'null', ev)"
                                role="button"><i class="fa fa-pencil"/></button>
                     </div>

                    <h3 class="o_resume_line_title mt-2" t-esc="data.name"/>
                    <h5 class="o_resume_line_title mt-2" t-esc="data.position"/>
                    <p t-if="data.description" class="o_resume_line_desc" t-esc="data.description"/>
                </div>
            </td>
        </xpath>
    </t>
</odoo>
