<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="view_user3c_groups_search" model="ir.ui.view">
            <field name="name">res.groups.user3c.search</field>
            <field name="model">res.groups</field>
            <field name="arch" type="xml">
                <search string="Groups">
                    <field name="name" filter_domain="['|', ('full_name','ilike',self), ('category_id','ilike',self)]" string="Group"/>
                    <separator orientation="vertical"/>
                    <field name="share"/>
                    <filter name="filter_no_share" string="Internal Groups" domain="[('share','=',False)]"/>
                    <group expand="1" string="Nhóm">
                        <filter name="group_module" string="Module" domain="[]" context="{'group_by': 'category_id'}"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="view_user3c_groups_form" model="ir.ui.view">
            <field name="name">res.groups.user3c.form</field>
            <field name="model">res.groups</field>
            <field name="arch" type="xml">
                <form string="Groups" create="0" >
                  <sheet style="max-width: 70%; margin-right: auto; margin-left: auto;">
                    <group style="display: block; width: 100%;">
                        <field name="category_id" string="Module" readonly="1" style="font-size: 18px; margin-top: 5px; margin-bottom: 15px;"/>
                        <field name="name" string="Vai trò" readonly="1" style="font-size: 16px; margin-top: 5px; margin-bottom: 15px;"/>
                        <field name="users" string="Thành viên" context="{'search_default_filter_no_share':1}" widget="many2many_avatar_user" style="border: 1px solid #ced4da; margin-top: 5px;"/>
                    </group>
                      <div style="text-align: right; padding-top: 20px;">
                            <button  special="save" class="btn btn-success " ><i class="fa fa-check" />Lưu</button>
                            <span style="color: white; padding-left:15px;"></span>
                            <button special="cancel" class="btn btn-secondary ms-2" ><i class="fa fa-undo" /> Hủy bỏ</button>
                        </div>
                  </sheet>
                </form>
            </field>
        </record>

        <record id="view_user3c_groups_tree" model="ir.ui.view">
            <field name="name">res.groups.user3c.tree</field>
            <field name="model">res.groups</field>
            <field name="arch" type="xml">
                <tree string="Groups" expand="1">
                    <field name="full_name"/>
                </tree>
            </field>
        </record>
    <record id="action_access_right_account" model="ir.actions.act_window">
            <field name="name">Phân quyền tài khoản</field>
            <field name="res_model">res.groups</field>
            <field name="context">{'search_default_group_module': 1}</field>
             <field name="search_view_id" ref="view_user3c_groups_search"/>
            <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'tree', 'view_id': ref('view_user3c_groups_tree')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('view_user3c_groups_form')})]"/>
    </record>
    <!-- -->
    <record id="view_model_access_right_form" model="ir.ui.view">
            <field name="name">ir.model.access_right.form</field>
            <field name="model">ir.model</field>
            <field name="arch" type="xml">
                <form >
                  <sheet>
                    <group>
                        <group>
                            <field name="id" invisible="1"/>
                            <field name="name"/>
                        </group>
                        <group>
                            <field name="modules"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Phân quyền" name="access_rights">
                            <field name="access_ids">
                                <tree string="Access Rights" editable="top"
                                      decoration-warning="not group_id and
                                                         (perm_read or perm_write or
                                                          perm_create or perm_unlink)">
                                    <field name="group_id"/>
                                    <field name="perm_read"/>
                                    <field name="perm_write"/>
                                    <field name="perm_create"/>
                                    <field name="perm_unlink"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                  </sheet>
                </form>
            </field>
        </record>

    <record id="view_model_access_right_tree" model="ir.ui.view">
            <field name="name">ir.model.access_right.tree</field>
            <field name="model">ir.model</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                </tree>
            </field>
        </record>

    <record id="action_access_right" model="ir.actions.act_window">
            <field name="name">Phân quyền thao tác</field>
            <field name="res_model">ir.model</field>
            <field name="context">{}</field>
            <field name="view_ids" eval="[(5, 0, 0), (0, 0, {'view_mode': 'tree', 'view_id': ref('view_model_access_right_tree')}),
        (0, 0, {'view_mode': 'form', 'view_id': ref('view_model_access_right_form')})]"/>
        </record>
</odoo>